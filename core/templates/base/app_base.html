{% extends "base/base.html" %}
{% load static %}


{% block base_content %}
<div class="flex flex-row flex-wrap h-[100svh]">
  <aside class="w-64 bg-gray-50  border-r h-[100svh] p-4 flex flex-col items-start">
    <div class="flex-1 px-2 lg:flex-none">
      <a href="{% url 'dashboard' %}">
        <img src="{% static 'logo.png' %}" alt="MediaCloud Logo" class="h-6 w-auto">
      </a>
    </div>
    {% include 'components/upload_modal.html'%}

    <span class="divider"></span>
    <nav class="w-full">
      <ul class="w-full space-y-1">
        <li>
          {% url 'dashboard' as dashboard_url %}
          <a href="{{dashboard_url}}"
            data-active="{% if request.get_full_path == dashboard_url %}true{% else %}false{% endif %}" class=" data-[active=true]:bg-gray-200 data-[active=true]:text-gray-900 flex text-sm font-medium items-center
            transition text-gray-600 px-2 py-2 -translate-x-2 hover:bg-gray-200 w-[calc(100%+16px)] rounded">
            <svg class='mr-4' xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-house">
              <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8" />
              <path
                d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
            </svg>
            Inicio
          </a>
        </li>
        <li>
          {% url 'videos' as videos_url %}
          <a href="{{videos_url}}"
            data-active="{% if request.get_full_path == videos_url %}true{% else %}false{% endif %}" class=" data-[active=true]:bg-gray-200 data-[active=true]:text-gray-900 flex text-sm font-medium items-center
            transition text-gray-600 px-2 py-2 -translate-x-2 hover:bg-gray-200 w-[calc(100%+16px)] rounded">
            <svg class="mr-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-clapperboard">
              <path d="M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z" />
              <path d="m6.2 5.3 3.1 3.9" />
              <path d="m12.4 3.4 3.1 4" />
              <path d="M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z" />
            </svg>
            Videos
          </a>
        </li>
        <li>
          {% url 'images' as images_url %}
          <a href="{{images_url}}"
            data-active="{% if request.get_full_path == images_url %}true{% else %}false{% endif %}" class=" data-[active=true]:bg-gray-200 data-[active=true]:text-gray-900 flex text-sm font-medium items-center
            transition text-gray-600 px-2 py-2 -translate-x-2 hover:bg-gray-200 w-[calc(100%+16px)] rounded">
            <svg class="mr-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-image">
              <rect width="18" height="18" x="3" y="3" rx="2" ry="2" />
              <circle cx="9" cy="9" r="2" />
              <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21" />
            </svg>
            Imagens
          </a>
        </li>
        <li>
          {% url 'audios' as audios_url %}
          <a href="{{audios_url}}"
            data-active="{% if request.get_full_path == audios_url %}true{% else %}false{% endif %}" class=" data-[active=true]:bg-gray-200 data-[active=true]:text-gray-900 flex text-sm font-medium items-center
            transition text-gray-600 px-2 py-2 -translate-x-2 hover:bg-gray-200 w-[calc(100%+16px)] rounded">
            <svg class="mr-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-headphones">
              <path
                d="M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3" />
            </svg>
            Audios
          </a>
        </li>
      </ul>
    </nav>
  </aside>
  <div class="flex flex-col flex-1 h-[100svh] px-6">
    <header class="flex py-2 mb-6 rounded-box items-center justify-center">
      <div class="flex-none lg:hidden">
        <label for="my-drawer-3" aria-label="open sidebar" class="btn btn-square btn-ghost">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            class="inline-block h-6 w-6 stroke-current">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </label>
      </div>
      <h2 class="text-2xl font-semibold ">{% block heading %} {% endblock %}</h2>
      <div class="flex flex-1 justify-end px-2">
        <div class="flex items-stretch">
          <div class="dropdown dropdown-end">
            <div tabindex="0" role="button" class="py-2 px-3 rounded-btn items-center flex nowrap hover:bg-base-200 ">
              {% if user.profile_picture %}
              <div class="avata mr-2">
                <div class="w-9 rounded-full overflow-hidden">
                  <img src="{{ user.profile_picture.url }}" alt="Profile Picture">
                </div>
              </div>
              {% else %}
              <div class="avatar placeholder  mr-2">
                <div class="bg-neutral text-neutral-content w-9  rounded-full">
                  <span class="text-base">U</span>
                </div>
              </div>
              {% endif %}
              {{ user.username }}
            </div>
            <ul class="menu dropdown-content rounded-box border z-[1] bg-white mt-4 w-52 p-2 shadow">
              <li><a href="{% url 'edit_profile' %}">Editar</a></li>
              <li class="w-full">
                <form method="post" class="w-full flex " action="{% url 'logout' %}">
                  {% csrf_token %}
                  <button type="submit" class="w-full text-left">Sair</button>
                </form>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <main>
      {% block content %} {% endblock %} {% endblock %}
    </main>
  </div>

</div>